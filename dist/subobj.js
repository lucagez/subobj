var r=require("fs"),n=function(r,t,e,u){void 0===u&&(u=0);var i=r.charAt(t);return i===e[0]?u+=1:i===e[1]&&(u-=1),0===u?t:n(r,t+=1,e,u)},t=function(r,e){void 0===e&&(e=0);var u=r.charAt(e);if(","===u||"}"===u)return r.substr(0,e);if("["===u||"{"===u){var i="["===u?["[","]"]:["{","}"];return r.substr(0,n(r,e,i))+i[1]}return t(r,e+=1)};module.exports=function(n,e,u){void 0===u&&(u={});var i=u.validate,a=u.pathMode?r.readFileSync(n,"UTF-8"):n;i&&function(r){try{JSON.parse(r)}catch(r){throw new Error("invalid JSON")}}(a);var o=function(r){return(r.match("\n")||[]).length>0}(a)?function(r){try{return JSON.stringify(JSON.parse(r))}catch(r){throw new Error("invalid JSON")}}(a):a;return function(r,n){for(var t,e=RegExp('"'+n+'":',"g"),u=[];null!==(t=e.exec(r));)u.push(t.index);return u}(o,e).map(function(r){var n=o.substr(r);return"{"+t(n)+"}"})};
